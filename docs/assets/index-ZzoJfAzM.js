var a=Object.defineProperty;var u=(n,e,t)=>e in n?a(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var l=(n,e,t)=>u(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();class c{removeProp(e,t){if(!t||!t.hasOwnProperty(e))return t;const r={...t};return delete r[e],r}}class f extends c{apply(e,t){const r=this.removeProp("children",t);if(r)for(let s in r)e.setAttribute(s,r[s]);return[e,t]}}class p{constructor(){l(this,"processors",[]);l(this,"defaultProcessor");this.defaultProcessor=new f}addProcessor(e){this.processors.push(e)}applyAllProcessor(e,t){let r=[e,t];for(let o of this.processors)r=o.apply(...r);const[s]=this.defaultProcessor.apply(...r);return s}}class d{constructor(e){l(this,"propsProcessor");this.propsProcessor=e}createThree(e,t){return this.createNodesArray(t).forEach(s=>{e.appendChild(s)}),e}createNodesArray(e){return Array.isArray(e)?e.map(t=>this.createNode(t)):[this.createNode(e)]}createNode(e){return e&&typeof e=="object"?this.createElementNode(e):this.createTextNode(e)}createElementNode(e){const t=document.createElement(e.tag),r=this.childrenProcessing(t,e.props);return this.propsProcessor.applyAllProcessor(t,r)}childrenProcessing(e,t){if(!t||!t.hasOwnProperty("children"))return t;const r={...t};return this.createThree(e,r.children),delete r.children,r}createTextNode(e){let t="";return(typeof e=="string"||typeof e=="number"&&!isNaN(e))&&(t=String(e)),document.createTextNode(t)}}class h{constructor(e,t){l(this,"root");l(this,"strategy");this.root=e,this.strategy=t}setStrategy(e){this.strategy=e}update(e){this.strategy.update(this.root,e)}}class y{update(e,t){const r=Array.from(e.childNodes),s=Array.from(t.childNodes),o=Math.max(r.length,s.length);for(let i=0;i<o;i++)this.compareAndReplace(e,r[i],s[i])}compareAndReplace(e,t,r){console.log("COMPARE",13,[t,r]),t&&r?this.isNodeEqual(t,r)?this.update(t,r):e.replaceChild(r,t):t?e.removeChild(t):r&&(e==null||e.appendChild(r))}isNodeEqual(e,t){return!(e.nodeType!==t.nodeType||e.nodeName!==t.nodeName||e.nodeValue!==t.nodeValue||e instanceof Element&&t instanceof Element&&(e.tagName!==t.tagName||!this.isAttributesEqual(e,t)))}isAttributesEqual(e,t){const r=e.attributes,s=t.attributes;if(r.length!==s.length)return!1;for(let o of r){const i=t.getAttribute(o.name);if(i===null||o.value!==i)return!1}return!0}}class m extends c{apply(e,t){if(!t||!t.hasOwnProperty("style"))return[e,t];const r={...t};if(typeof r.style=="string")e.setAttribute("style",r.style);else{const s=[];for(let o in r.style)s.push(`${o}:${r.style[o]}`);e.setAttribute("style",s.join(";"))}return delete r.style,[e,r]}}class P{constructor(e){l(this,"root");l(this,"virtualRoot");l(this,"propProcessor");l(this,"nodeCreator");l(this,"domUpdater");this.root=e,this.virtualRoot=document.createElement("div"),this.propProcessor=new p,this.propProcessor.addProcessor(new m),this.nodeCreator=new d(this.propProcessor),this.domUpdater=new h(this.root,new y)}render(e){return this.virtualRoot.innerHTML="",this.virtualRoot=this.nodeCreator.createThree(this.virtualRoot,e),this.domUpdater.update(this.virtualRoot),this}}function A(n){const e=document.querySelector(n);if(!e)throw Error(`There is now element for root with [${n}] slector`);return new P(e)}export{A as c};
